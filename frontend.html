<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend application</title>
</head>
<body>
    <h1>User Crud</h1>

    <div id="datas-view"></div>
    <!-- 
    <p>{{ $user['id'] }} - {{ $user['name'] }} - {{ $user['nickname'] }} - {{ $user['email'] }} </p>
    <p>{{ $user['address'] }}</p>
    <a href="/user/{{ $user['id'] }}"><button>Edit</button></a> 

    <form action="/user/delete/{{ $user['id'] }}" method="POST">
        @csrf
        @method('DELETE')
        <button type="submit">Delete</button>
    </form>
    -->

<script type="text/javascript">
    
    // alert('hello world')

    // console.log('hello world')

    // var num1 = 10
    // var num2 = 20
    // var total = num1 + num2
    // console.log(total);
    // VM613:4 30


    // Single array
    // var arr = ['1', 20, 'abc'];
    // console.log(arr);
    // VM725:2 (3) ['1', 20, 'abc']0: "1"1: 202: "abc"length: 3[[Prototype]]: Array(0)
    // undefined
    // console.log(arr.length);
    // VM767:1 3

    // Associative array or Json or Object
    // var arr = {
    //     id : 1,
    //     name : 'Ye',
    //     age : 10
    // }
    // console.log(arr['id']);
    // VM1062:7 1
    // undefined
    // console.log(arr['name']']);
    // VM1107:1 Uncaught SyntaxError: missing ) after argument list
    // console.log(arr['name']);
    // VM1127:1 Ye
    // undefined
    // console.log(arr.id);
    // VM1199:1 1
    // undefined
    // console.log(arr.name);
    // VM1238:1 Ye
    // undefined

    // Multi dimensial array
    // var arr = 
    // [
    //     {
    //         id : 1,
    //         name : "Ye",
    //     },
    //     {
    //         id : 2,
    //         name : "myat",
    //     },
    //     {
    //         id : 1,
    //         name : "pg",
    //     }
    // ]
    // console.log(arr);
    // VM1537:16 (3) [{…}, {…}, {…}]
    // 0: id: 1 name: "Ye"[[Prototype]]: Object
    // 1: id: 2 name: "myat"[[Prototype]]: Object
    // 2: id: 1 name: "pg"[[Prototype]]: Object
    // length: 3[[Prototype]]: Array(0)
    // undefined

    // Single array looping
    // var arr = [1, 2, 3, 'a'];

    // arr.forEach(function(a, i) {
    // console.log(a);
    // console.log('-');
    // console.log(i);
    // console.log('-----------------------------------------');
    // })

    // VM2187:4 1
    // VM2187:5 -
    // VM2187:6 0
    // VM2187:7 -----------------------------------------
    // VM2187:4 2
    // VM2187:5 -
    // VM2187:6 1
    // VM2187:7 -----------------------------------------
    // VM2187:4 3
    // VM2187:5 -
    // VM2187:6 2
    // VM2187:7 -----------------------------------------
    // VM2187:4 a
    // VM2187:5 -
    // VM2187:6 3
    // VM2187:7 -----------------------------------------

    // Multidimensial array looping
    // var arr = 
    // [
    //     {
    //         id : 1,
    //         name : "Ye",
    //     },
    //     {
    //         id : 2,
    //         name : "myat",
    //     },
    //     {
    //         id : 3,
    //         name : "pg",
    //     }
    // ]
    // arr.forEach(function(a, i) {
    // console.log(a.id + ' - ' + a.name + ' = ' + i)
    // console.log('----------------------------------------------------');
    // });
    // VM2858:17 1 - Ye = 0
    // VM2858:18 ----------------------------------------------------
    // VM2858:17 2 - myat = 1
    // VM2858:18 ----------------------------------------------------
    // VM2858:17 3 - pg = 2
    // VM2858:18 ----------------------------------------------------


    // Requesting api and retrieving datas
    // var xhttp = new XMLHttpRequest();
    // xhttp.open("GET", "http://127.0.0.1:8000/api/user", false);
    // xhttp.send();
    // console.log(xhttp.responseText);

    // var response = xhttp.responseText;
    // var responseArr = JSON.parse(response);
    // var datas = responseArr.data;
    // console.log(datas);

    // datas.forEach(function(data, i) {
    // console.log(data.id + ' - ' + data.name + ' - ' + data.nickname);
    // });

    // VM4203:4 {"current_page":1,"data":[{"id":37,"created_at":"2022-07-31T13:31:37.000000Z","updated_at":"2022-07-31T13:31:37.000000Z","name":"new user","nickname":"dddd","email":"hein@dddd2122.com","address":"thailand-123","password":"$2y$10$rmoTChqXXrMoR.G\/v4s3j.ePA9FMSK1gLc1GQPeYBPIUDAAjjPltq"},{"id":35,"created_at":"2022-07-31T13:14:15.000000Z","updated_at":"2022-07-31T13:14:15.000000Z","name":"hien","nickname":"heiininie","email":"hein@eerer22.com","address":"heinhein","password":"$2y$10$ladKxSZ.PuEJ2MpRodMMbufUYOUiPtUD0BiHXaf8wgJqGJ4Mn9bWC"},{"id":34,"created_at":"2022-07-31T13:09:32.000000Z","updated_at":"2022-07-31T13:09:32.000000Z","name":"defdeee","nickname":"dddd","email":"hein@dddd2.com","address":"thailand","password":"$2y$10$7nx\/EHLOMz7ZTtvroJ6nS.P3gySshmUMSq7u8X.rYMHK9npwJp77O"},{"id":33,"created_at":"2022-07-31T13:08:35.000000Z","updated_at":"2022-07-31T13:08:35.000000Z","name":"defdeee","nickname":"dddd","email":"hein@dddd.com","address":"thailand","password":"$2y$10$HqqwC0l0K7KqNYFsxfdS.e.EM29wXNraKneMPcWHkzBEErqAbyiRW"},{"id":32,"created_at":"2022-07-30T10:56:05.000000Z","updated_at":"2022-07-30T10:56:05.000000Z","name":"Hein","nickname":"hein","email":"heinhtetaung.itlife@gmail.com","address":"12345555","password":"$2y$10$.zwPehW\/o4hjkmb54fKr0OI8FcHvbb\/5U\/1FOO1\/M5aYCo5ENE\/QS"}],"first_page_url":"http:\/\/127.0.0.1:8000\/api\/user?page=1","from":1,"last_page":5,"last_page_url":"http:\/\/127.0.0.1:8000\/api\/user?page=5","links":[{"url":null,"label":"&laquo; Previous","active":false},{"url":"http:\/\/127.0.0.1:8000\/api\/user?page=1","label":"1","active":true},{"url":"http:\/\/127.0.0.1:8000\/api\/user?page=2","label":"2","active":false},{"url":"http:\/\/127.0.0.1:8000\/api\/user?page=3","label":"3","active":false},{"url":"http:\/\/127.0.0.1:8000\/api\/user?page=4","label":"4","active":false},{"url":"http:\/\/127.0.0.1:8000\/api\/user?page=5","label":"5","active":false},{"url":"http:\/\/127.0.0.1:8000\/api\/user?page=2","label":"Next &raquo;","active":false}],"next_page_url":"http:\/\/127.0.0.1:8000\/api\/user?page=2","path":"http:\/\/127.0.0.1:8000\/api\/user","per_page":5,"prev_page_url":null,"to":5,"total":25}
    // VM4203:9 (5) [{…}, {…}, {…}, {…}, {…}]
    // VM4203:12 37 - new user - dddd
    // VM4203:12 35 - hien - heiininie
    // VM4203:12 34 - defdeee - dddd
    // VM4203:12 33 - defdeee - dddd
    // VM4203:12 32 - Hein - hein


function showDatas() {
    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "http://127.0.0.1:8000/api/user", false);
    xhttp.send();

    var response = xhttp.responseText;
    var responseArr = JSON.parse(response);
    var datas = responseArr.data;

    datas.forEach(function(data, i) {

        var str = `
                <p>${data['id']} - ${data['name']} - ${data['nickname']} - ${data['email']}</p>
                <p>${data['address']}</p>
                <hr>
        `;

        var div = document.getElementById('datas-view');
        div.innerHTML += str;
    });
}

showDatas();
    
</script>

</body>
</html>